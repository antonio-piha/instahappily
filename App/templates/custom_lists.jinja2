{%- extends "layout.jinja2" -%}
{%- import "_all_settings.jinja2" as all_settings with context -%}
{%- import "_layout_helpers.jinja2" as layout_helpers with context -%}


{% block navbar %}
  {%- call all_settings.settings_actions_bar() -%}
  {%- endcall -%}
{% endblock %}

{%- block mobi_menu_navbar_small_info -%}
  <li class="nav-item">
    CUSTOM LISTS
  </li>
{%- endblock -%}

{% block content %}

<div class="card">
  <div class="card-body">
    <h6>Create reusable custom lists which can be used in sessions settings</h6>
  </div>
</div>

<div class="card my-3">
  <div class="card-header unique-color-dark white-text">
    <i class="fas fa-magnet mr-3"></i>Create new custom list
  </div>
  <div class="card-body">

      {{ layout_helpers.custom_list_form(form) }}

  </div>
</div>

<div class="card mb-3">
  <div class="card-header unique-color-dark white-text">
    <div class="row">
      <div class="col-7">
        <i class="fas fa-history mr-3"></i>Existing custom lists
      </div>
    </div>
  </div>
  <div class="card-body p-2">
    <ul class="list-group list-group-flush">
      <div class="table-responsive">
      <table class="table table-striped table-hover js-data-table" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th class="th-sm">Name</th>
            <th class="th-sm">What's in the list</th>
            <th class="th-sm">Actions</th>
          </tr>
        </thead>
        <tbody>

          {%- for custom_list in custom_lists -%}
            <tr>
              <td>
                <h6>
                  <a class="" href="/custom-lists/{{custom_list.id}}/edit">
                    <button type="button" class="btn btn-outline-primary btn-rounded btn-sm">
                      {{ custom_list.name }}
                    </button>
                  </a>
                </h6>
              </td>
              <td class="pt-4">
                {{ custom_list.list_type_key }}
              </td>
              <td>
                <a class="" href="/custom-lists/{{custom_list.id}}/edit">
                  <button type="button" class="btn btn-primary btn-sm">
                    <i class="fas fa-edit mr-2"></i>Edit
                  </button>
                </a>
              </td>
            </tr>
          {%- endfor -%}

        </tbody>
      </table>
      </div>
    </ul>
  </div> {# card-body #}
</div> {# card #}

{%- endblock %}


